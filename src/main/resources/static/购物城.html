
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>购物城</title>
    <link rel="shortcut icon" href="images/logo.png" type="image/x-icon">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/index.css">

</head>
<body>
<div class="topbar">
    <div class="container clearfix">
        <div class="welcome leftfix">
            <span class="hello">购物城欢迎您</span>
            <span></span>
            <a href="登录.html" class="login">登录</a>
            <a href="注册.html" class="register">免费注册</a>
        </div>
        <div class="topbar-nav rightfix">
            <ul class="list clearfix">
                <li><a href="#">我的订单</a></li>
                <li><a href="购物车.html">我的购物车</a></li>
                <li><a href="#">企业采购</a></li>
                <li><a href="#">商家后台</a></li>
            </ul>
        </div>
    </div>
</div>
<div class="header" id="app">
    <div class="container clearfix">
        <div class="logo leftfix">
            <img src="images/logo2.png" alt="购物城">
        </div>
        <div class="search rightfix">
            <input v-model="search" placeholder="搜索商品名" class="search-input">
            <button class="search-button" @click="getNeedId" class="type-button"></button>
        </div>
    </div>
</div>
<div class="mainnav">
    <div class="container clearfix">
        <div class="alltypes leftfix">
            全部商品分类
        </div>
        <div class="list leftfix clearfix">
            <ul>
                <li><a href="#">优惠券</a></li>
                <li><a href="#">家电</a></li>
                <li><a href="#">生鲜</a></li>
                <li><a href="#">plus会员</a></li>
                <li><a href="#">进口好物</a></li>
                <li><a href="#">品牌闪购</a></li>
                <li><a href="#">拍卖</a></li>
                <li><a href="#">五金店</a></li>
            </ul>
        </div>
    </div>
</div>
<div class="main-content">
    <div class="container clearfix">
        <ul class="slide-nav leftfix">
            <li><a href="#">手机/运营商/数码</a></li>
            <li><a href="#">电脑/办公</a></li>
            <li><a href="#">家具/家居/家装/厨具</a></li>
            <li><a href="#">男装/女装/童装/内衣</a></li>
            <li><a href="#">美妆/个护清洁/宠物</a></li>
            <li><a href="#">女鞋/箱包/钟表/珠宝</a></li>
            <li><a href="#">男鞋/运动/户外</a></li>
            <li><a href="#">房产/汽车/汽车用品</a></li>
            <li><a href="#">母婴/玩具乐器</a></li>
            <li><a href="#">食品/酒类/生鲜/特产</a></li>
            <li><a href="#">艺术/礼品鲜花/农资绿植</a></li>
            <li><a href="#">医药保健/计生情趣</a></li>
            <li><a href="#">图书/文娱/教育/电子书</a></li>
            <li><a href="#">机票/酒店/旅游/生活</a></li>
            <li><a href="#">众筹/白条/保险/企业金融</a></li>
            <li><a href="#">安装/维修/清洗/二手</a></li>
        </ul>
        <div class="recommend leftfix clearfix">
            <a href="#"><div class="recommend1"></div></a>
            <a href="#"><div class="recommend2"></div></a>
            <a href="#"><div class="recommend3"></div></a>
            <a href="#"><div class="recommend4"></div></a>
            <a href="#"><div class="recommend5"></div></a>
            <a href="#"><div class="recommend6"></div></a>
        </div>

        <div class="slide-other leftfix">
            <div class="all-products">
                <a href="buyer.html">全部商品一览</a>
            </div>
            <div class="other-nav">
                <ul class="other-nav-list clearfix">
                    <li>
                        <div class="picture"></div>
                        <span>话费</span>
                    </li>
                    <li>
                        <div class="picture"></div>
                        <span>火车票</span>
                    </li>
                    <li>
                        <div class="picture"></div>
                        <span>加油卡</span>
                    </li>
                    <li>
                        <div class="picture"></div>
                        <span>白条</span>
                    </li>
                </ul>
                <ul class="other-nav-list clearfix">
                    <li>
                        <div class="picture"></div>
                        <span>电影票</span>
                    </li>
                    <li>
                        <div class="picture"></div>
                        <span>酒店</span>
                    </li>
                    <li>
                        <div class="picture"></div>
                        <span>理财</span>
                    </li>
                    <li>
                        <div class="picture"></div>
                        <span>机票</span>
                    </li>
                </ul>
                <ul class="other-nav-list clearfix">
                    <li>
                        <div class="picture"></div>
                        <span>礼品卡</span>
                    </li>
                    <li>
                        <div class="picture"></div>
                        <span>彩票</span>
                    </li>
                    <li>
                        <div class="picture"></div>
                        <span>游戏</span>
                    </li>
                    <li>
                        <div class="picture"></div>
                        <span>众筹</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="bottom">
    <div class="container clearfix">
        <div class="card leftfix">
            <div class="header">
                <h1>1</h1>
            </div>
            <div class="date">January 1,2023</div>
        </div>
        <div class="good-luck rightfix">
            <div class="img"></div>
            <h3>每个人的花期不同，不必焦虑别人比你提前拥有</h3>
            <div class="img"></div>
        </div>
    </div>
</div>
<script src="vue.js" type="text/javascript" charset="utf-8"></script>
<script src="axios-0.18.0.js"></script>
<script>
    new Vue({
        el: '#app',
        data: {
            search: '',
            books: [],
        },
        created() {
            this.getAll()
        },
        methods: {
            getAll(){
                axios.get("/item").then((res)=>{
                    this.books = res.data.data;
                    //console.log(res.data.data)
                })
            },
            getNeedId() {
                if (this.search !== ""){
                    axios.get("/item/" + this.search).then((res) => {
                        if (res.data.total === 0){
                            alert("请在“全部商品一览”界面搜索商品全名")
                        } else {
                            alert("请在“全部商品一览”界面搜索商品全名")
                        }
                    })
                } else {
                    alert("请在“全部商品一览”界面搜索商品全名")
                    axios.get("/item").then((res)=>{
                        this.books = res.data.data;
                    })
                }
            },
            addCart(id) {
                //console.log(id)
                axios.get("/cart/" + id).then((res)=>{
                    alert(res.data.data)
                }).catch(function (error) {
                    if (error.response.status === 400) {
                        alert("未登录，自动跳转到登录页面！")
                        window.location.href = 'login.html'
                    }
                });
            },
            toCart() {
                window.location.href = 'cart.html';
            },
            toExit() {
                window.location.href = 'login.html';
            },
        }
    });
</script>
</body>
</html>